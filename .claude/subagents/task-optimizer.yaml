# Task Optimizer Subagent for Claude Code
# This subagent analyzes tasks and provides intelligent optimization suggestions

name: task-optimizer
version: 1.0.0
description: AI-powered task optimization subagent that analyzes tasks for duplicates, priorities, time estimates, grouping, and automation opportunities

# Input schema - what the subagent expects
input:
  type: object
  properties:
    tasks:
      type: array
      description: List of tasks to analyze
      items:
        type: object
        properties:
          id:
            type: integer
            description: Task ID
          title:
            type: string
            description: Task title
          description:
            type: string
            description: Task description
          completed:
            type: boolean
            description: Completion status
          created_at:
            type: string
            format: date-time
            description: Creation timestamp
        required:
          - id
          - title
  required:
    - tasks

# Output schema - what the subagent returns
output:
  type: object
  properties:
    duplicates:
      type: array
      description: Detected duplicate or similar tasks
      items:
        type: object
        properties:
          task_ids:
            type: array
            items:
              type: integer
            description: IDs of duplicate tasks
          similarity_score:
            type: number
            minimum: 0
            maximum: 1
            description: Similarity score (0-1)
          confidence:
            type: number
            minimum: 0
            maximum: 1
            description: Confidence in detection (0-1)
          suggestion:
            type: string
            description: Recommendation for handling duplicates

    priorities:
      type: array
      description: Priority recommendations for tasks
      items:
        type: object
        properties:
          task_id:
            type: integer
            description: Task ID
          priority:
            type: string
            enum: [high, medium, low]
            description: Recommended priority level
          confidence:
            type: number
            minimum: 0
            maximum: 1
            description: Confidence in recommendation (0-1)
          reasoning:
            type: string
            description: Explanation for priority assignment
          keywords:
            type: array
            items:
              type: string
            description: Keywords that influenced priority

    time_estimates:
      type: array
      description: Time estimates for task completion
      items:
        type: object
        properties:
          task_id:
            type: integer
            description: Task ID
          estimated_hours:
            type: number
            description: Estimated hours to complete
          confidence_interval:
            type: object
            properties:
              min:
                type: number
                description: Minimum estimated hours
              max:
                type: number
                description: Maximum estimated hours
          confidence:
            type: number
            minimum: 0
            maximum: 1
            description: Confidence in estimate (0-1)
          complexity_factors:
            type: array
            items:
              type: string
            description: Factors contributing to complexity

    groups:
      type: array
      description: Recommended task groupings
      items:
        type: object
        properties:
          name:
            type: string
            description: Suggested group name
          task_ids:
            type: array
            items:
              type: integer
            description: Tasks that belong to this group
          category:
            type: string
            description: Category (shopping, work, personal, etc.)
          confidence:
            type: number
            minimum: 0
            maximum: 1
            description: Confidence in grouping (0-1)
          reasoning:
            type: string
            description: Why these tasks should be grouped

    automations:
      type: array
      description: Automation opportunities detected
      items:
        type: object
        properties:
          task_ids:
            type: array
            items:
              type: integer
            description: Tasks that could be automated
          automation_type:
            type: string
            enum: [recurring, integration, api, scheduled]
            description: Type of automation suggested
          confidence:
            type: number
            minimum: 0
            maximum: 1
            description: Confidence in suggestion (0-1)
          suggestion:
            type: string
            description: Specific automation recommendation
          implementation:
            type: string
            description: How to implement the automation

# Analysis algorithms configuration
algorithms:
  duplicate_detection:
    enabled: true
    threshold: 0.8
    method: levenshtein_fuzzy
    description: Uses Levenshtein distance for fuzzy string matching

  priority_analysis:
    enabled: true
    keywords:
      high:
        - urgent
        - critical
        - asap
        - important
        - emergency
        - deadline
      medium:
        - soon
        - needed
        - required
        - plan
      low:
        - later
        - maybe
        - consider
        - someday
    description: Analyzes keywords and context for priority suggestions

  time_estimation:
    enabled: true
    complexity_indicators:
      - length: word_count
      - technical_terms: [api, database, integration, deploy, test]
      - size_keywords: [large, complex, simple, quick, small]
    base_estimate_hours: 1.0
    description: Estimates time based on complexity analysis

  task_grouping:
    enabled: true
    categories:
      - shopping
      - work
      - personal
      - health
      - finance
      - home
      - learning
    clustering_method: semantic
    description: Groups related tasks using semantic analysis

  automation_detection:
    enabled: true
    patterns:
      recurring:
        - daily
        - weekly
        - monthly
        - every
        - routine
      integration:
        - email
        - calendar
        - api
        - sync
        - import
      scheduled:
        - at
        - schedule
        - reminder
        - notify
    description: Identifies tasks that could be automated

# Execution settings
execution:
  timeout_seconds: 30
  max_tasks: 1000
  parallel_processing: true

# Reusability metadata
reusability:
  portable: true
  dependencies: []
  compatible_projects:
    - todo-applications
    - task-management-systems
    - productivity-tools
    - project-management
  documentation_url: /.claude/README.md
