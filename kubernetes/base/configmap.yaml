apiVersion: v1
kind: ConfigMap
metadata:
  name: todo-app-config
  namespace: todo-app
  labels:
    app: todo-app
data:
  # Application Configuration
  APP_NAME: "Todo Evolution"
  APP_VERSION: "2.0.0"
  LOG_LEVEL: "info"

  # Frontend Configuration
  NEXT_PUBLIC_API_URL: "http://backend-service:8000"
  NEXT_PUBLIC_APP_NAME: "Todo Evolution"

  # Backend Configuration
  BACKEND_HOST: "0.0.0.0"
  BACKEND_PORT: "8000"
  BACKEND_WORKERS: "4"
  BACKEND_RELOAD: "false"

  # Database Configuration
  DATABASE_DRIVER: "postgresql+psycopg"
  DATABASE_HOST: "postgres-service"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "todo_db"
  DATABASE_POOL_SIZE: "20"
  DATABASE_MAX_OVERFLOW: "10"

  # Redis Configuration
  REDIS_HOST: "redis-service"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  REDIS_MAX_CONNECTIONS: "50"

  # Kafka Configuration
  KAFKA_BOOTSTRAP_SERVERS: "kafka-0.kafka-service:9092,kafka-1.kafka-service:9092,kafka-2.kafka-service:9092"
  KAFKA_GROUP_ID: "todo-app-consumer-group"
  KAFKA_AUTO_OFFSET_RESET: "earliest"
  KAFKA_ENABLE_AUTO_COMMIT: "true"

  # Dapr Configuration
  DAPR_HTTP_PORT: "3500"
  DAPR_GRPC_PORT: "50001"
  DAPR_ENABLED: "true"

  # CORS Configuration
  CORS_ORIGINS: "http://localhost:3000,https://todo-app.example.com"
  CORS_ALLOW_CREDENTIALS: "true"

  # Feature Flags
  ENABLE_VOICE_FEATURES: "true"
  ENABLE_AI_OPTIMIZATION: "true"
  ENABLE_OFFLINE_SYNC: "true"
  ENABLE_PUSH_NOTIFICATIONS: "true"

  # Monitoring
  ENABLE_METRICS: "true"
  METRICS_PORT: "9090"
  ENABLE_TRACING: "true"
  JAEGER_AGENT_HOST: "jaeger-agent"
  JAEGER_AGENT_PORT: "6831"
