apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "todo-chatbot.fullname" . }}-config
  namespace: {{ .Release.Namespace }}
data:
  # Application configuration
  APP_ENV: {{ .Values.env.appEnv | quote }}
  LOG_LEVEL: {{ .Values.env.logLevel | quote }}

  # Database configuration
  DB_HOST: "postgres-service"
  DB_PORT: "5432"
  DB_NAME: "todo_db"

  # Service URLs
  BACKEND_URL: "http://{{ include "todo-chatbot.fullname" . }}-backend-service:8000"
  MCP_SERVER_URL: "http://{{ include "todo-chatbot.fullname" . }}-mcp-service:3000"

  # Feature flags
  ENABLE_VOICE_INPUT: {{ .Values.env.enableVoiceInput | quote }}
  ENABLE_VOICE_OUTPUT: {{ .Values.env.enableVoiceOutput | quote }}
  ENABLE_ANALYTICS: {{ .Values.env.enableAnalytics | quote }}
  ENABLE_RECURRING_TASKS: {{ .Values.env.enableRecurringTasks | quote }}